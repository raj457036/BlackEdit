var ed_style = `<style>@charset "UTF-8";.ed-editor .ed-footer,.ed-editor .ed-tools .ed-tools-1{-webkit-box-orient:horizontal;-webkit-box-direction:normal}div[data-placeholder]:not(:focus):not([data-div-placeholder-content]):before{content:attr(data-placeholder);float:left;margin-left:2px;color:#b3b3b3}.ed-editor{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:100%;min-width:320px;background:#fff}.ed-editor .ed-center{margin:0 auto}.ed-editor .ed-tools{width:100%;background-color:#fafafa;border:1.5px solid #c4c4c4;border-bottom:0;border-top-left-radius:3px;border-top-right-radius:3px}.ed-editor .ed-tools .ed-tools-1{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.ed-editor .ed-tools button:hover:after{position:absolute;z-index:20;margin:30px auto auto -30px;padding:5px;font-size:12px;content:attr(data-key);border-radius:3px;background:#000;color:#fff;border-top:2px solid red}.ed-editor button,.ed-editor input,.ed-editor label,.ed-editor select{-webkit-box-sizing:border-box;margin:0 2px;padding:3px 8px;cursor:pointer;border:1px solid #eee}.ed-editor button,.ed-editor input,.ed-editor label{box-sizing:border-box;background-color:#fff;outline-style:none}.ed-editor select::-ms-expand{display:none}.ed-editor select{box-sizing:border-box;text-align:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;min-width:60px}.ed-editor button:hover,.ed-editor label:hover,.ed-editor select:hover{background-color:#e4e4e4}.ed-editor .ed-space{font-family:'Trebuchet MS','Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif;display:block;min-height:300px;max-height:700px;overflow-x:hidden;overflow-y:auto;padding:5px;border:1.5px solid #c4c4c4;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff;overflow-wrap:break-word}.ed-editor .ed-space iframe{padding:10px;border:3px dotted red;cursor:-webkit-grab;cursor:grab}.ed-editor .ed-space img{max-width:100%;resize:horizontal;height:auto}.ed-editor .ed-space a:hover{cursor:pointer;border:1px solid #1e90ff}.ed-editor .ed-space:focus{-webkit-box-shadow:inset 0 0 2px #000;box-shadow:inset 0 0 2px #000}.ed-editor .ed-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:#fafafa;border:1.5px solid #c4c4c4;border-top:0;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.ed-editor .ed-footer button:hover:after{position:absolute;z-index:20;margin:-35px auto auto -30px;padding:5px;font-size:12px;content:attr(data-key);border-radius:3px;background:#000;color:#fff;border-top:2px solid #1e90ff}#ed_floatbox{display:none;position:fixed;left:0;right:0;margin-left:auto;margin-right:auto;margin-top:65px;padding:5px;z-index:4000;text-align:center;max-width:350px;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;border-radius:5px}#ed_floatbox .colorpick{margin:20px auto;border-top:1px solid #eee;padding-top:10px}#ed_floatbox .colorpick button{border-radius:50%;width:40px;height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;border:2px solid #fff}.caret-bottom::after,.temp_float{-webkit-box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}#ed_floatbox button.active::after{content:"ðŸ”’";position:absolute;margin-left:-10px;margin-top:-14px}#ed_floatbox input{width:100%;cursor:text;padding:auto 3px;font-size:20px;text-align:center;border-bottom:1px solid gray;border-top:1px solid gray;border-radius:0;background:#eee;margin-top:20px}#ed_floatbox button[data-for]{width:100%;background:#1e90ff;color:#fff;font-size:20px}#ed_floatbox #set:hover{background:#007af5}#ed_floatbox .ed_float_title{pointer-events:none;display:inline-block;text-align:center;font-size:20px;padding-bottom:2px}#ed_floatbox .ed_float_title::after{pointer-events:all;cursor:pointer;position:absolute;right:10px;content:"âœ•"}#ed_floatbox .ed_image_select{display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100%;height:100px;background:#eee;margin-top:15px;border:3px dotted #a9a9a9;cursor:pointer}#ed_floatbox .ed_image_select input{cursor:pointer;font-size:10px;height:85%;width:285px;margin:0;border:none;border-radius:0;background:#eee}#ed_floatbox .ed_image_select ::after{font-size:15px;font-weight:600;color:#a9a9a9;position:absolute;width:290px;bottom:65px;left:5px;content:"Choose file or drag it here."}.caret-bottom::after,.caret-top::after{position:absolute;content:" ";border-left:8px solid transparent;border-right:8px solid transparent}.hide{display:none}.show{display:initial}.hilite{background-color:#f08080}.resizable{min-width:350px;max-width:100%;min-height:192px;overflow:hidden;resize:both;display:inline-block}.temp_float{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important;background:#000;padding:auto 10px;border-radius:5px;color:#000;width:200px}.temp_float p{padding:0}.caret-bottom{border-top:2px solid red}.caret-top{border-bottom:2px solid #1e90ff}.caret-bottom::after{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important;top:24px;right:91px;border-bottom:8px solid transparent;border-top:8px solid #000}.caret-top::after{-webkit-box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important;box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important;top:-16px;right:92px;border-bottom:8px solid #000;border-top:8px solid transparent}</style>`
function $_(e){switch(e[0]){case"#":return document.getElementById(e.slice(1));case".":return document.getElementsByClassName(e.slice(1));default:return document.getElementsByTagName(e)}}function on(e,t,s){let a=e.split(" ");switch(t[0]){case"#":for(let e=0;e<a.length;e++)$_(t).addEventListener(a[e],s);break;case".":for(let e=0;e<$_(t).length;e++)for(let i=0;i<a.length;i++)$_(t)[e].addEventListener(a[i],s);break;default:for(let e=0;e<$_(t).length;e++)for(let i=0;i<a.length;i++)$_(t)[e].addEventListener(a[i],s)}return t}var default_settings={smaller_device:!1,performance_mode:!1},enter_nos=0;class CommandAssets{constructor(e,t){this.settings=e,this.editorId=t,this.commands={default:["bold","italic","underline","strikeThrough","insertHorizontalRule","createLink","insertOrderedList","insertUnorderedList","insertImage","blockquote","justifyLeft","justifyCenter","justifyRight","justifyFull","backColor","foreColor","indent","outdent","subscript","superscript","formatBlock","removeFormat","fontName"],"non-default":["youtube","code"]},this.font_styles={"Heading h1":"<h1>","Heading h2":"<h2>","Heading h3":"<h3>","Heading h4":"<h4>","Heading h5":"<h5>","Heading h6":"<h6>",paragraph:"<p>","Pre formatted":"<pre>",Table:"<table>"},this.top_tools={cmds:["bold","italic","underline","strikeThrough","insertHorizontalRule","createLink","insertOrderedList","insertUnorderedList","insertImage","indent","youtube","removeFormat"],values:[!1,!1,!1,!1,!1,!0,!1,!1,!0,!1,!0,!1],icons:["fas fa-bold","fas fa-italic","fas fa-underline","fas fa-strikethrough","far fa-window-minimize","fas fa-link","fas fa-list-ol","fas fa-list-ul","fas fa-image","fas fa-quote-left","fab fa-youtube","fas fa-eraser"],keys:["Bold(Ctrl+B)","Italic(Ctrl+I)","Underline(Ctrl+U)","Strike(Alt+Shift+5)","Page Break(Ctrl+Enter)","Insert Link(Ctrl+K)","Numbered List(Ctrl+Shift+7)","Bulleted List(Ctrl+Shift+8)","Insert Image(Ctrl+Shift+K)","insert Quote(Ctrl+Q)","Youtube Video(Ctrl+Shift+Y)","Clear Formatting(Ctrl+\\)"]},this.foot_tools={cmds:["code","justifyLeft","justifyCenter","justifyRight","justifyFull","backColor","foreColor","indent","outdent","subscript","superscript"],values:[!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1],icons:["fas fa-code","fas fa-align-left","fas fa-align-center","fas fa-align-right","fas fa-align-justify","fas fa-fill-drip","fas fa-font","fas fa-indent","fas fa-outdent","fas fa-subscript","fas fa-superscript"],keys:["Insert Code(Ctrl+Shift+0)","Align Left(Ctrl+Shift+L)","Align Center(Ctrl+Shift+E)","Align Right(Ctrl+Shift+R)","Align Justify(Ctrl+Shift+J)","Highlight","Text Color","Indent","Outdent","Ctrl+.","Ctrl+,"]},this.font={Arial:"Arial, Helvetica, sans-serif",Courier:"'Courier New', Courier, monospace",Cursive:"cursive",Times:"'Times New Roman', Times, serif",Lucida:"'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif"},this.font_color={black:"000000",red:"FF0000",orange:"FF8000",yellow:"FFFF00",limegreen:"80FF00",green:"00FF00",cyangreen:"00FF80",cyan:"00FFFF",lightblue:"0080FF",blue:"0000FF",violet:"8000FF",megenta:"FF00FF",flora:"FF0080"},this.back_color={white:"FFFFFF",blue:"ADD8E6",coral:"F08080",cyne:"E0FFFF",green:"90EE90",pink:"FFB6C1",salmon:"FFA07A",seagreen:"20B2AA",skyblue:"87CEFA",yellow:"FFFFE0"},this.image_container=[],this.current_sets={font_style:"paragraph",font_family:"Arial",font_size:16,font_color:"black",font_highlight:"blue",last_youtube:"",img_selected:void 0},this._range=void 0,this.forUndo=[],this.forRedo=[]}Undo(){let e=this.forUndo.pop();e=null!=e?e:"",this.forRedo[this.forRedo.length-1]==e&&0!=this.forRedo.length||this.forRedo.push(e),$_("#ed_space_"+this.editorId).innerHTML=e}Redo(){let e=this.forRedo.pop();e=null!=e?e:"",this.forUndo[this.forUndo.length-1]==e&&0!=this.forUndo.length||this.forUndo.push(e),$_("#ed_space_"+this.editorId).innerHTML=e}addFeatures(){for(let e=0;e<arguments.length;e++){if(!("ele"in arguments[e]))throw new Error("you need an element for apply properties.");for(let t in arguments[e])switch(t){case"style":arguments[e].ele.style.cssText=arguments[e].style;break;case"class":arguments[e].ele.className=arguments[e].class;break;case"id":arguments[e].ele.id=arguments[e].id;break;case"attrs":for(let t in arguments[e].attrs)arguments[e].ele.setAttribute(t,arguments[e].attrs[t]);break;case"content":let s=document.createTextNode(arguments[e].content);arguments[e].ele.appendChild(s)}}}addFonts(e){for(let t in e)this.font[t]=e[t]}removeFonts(){for(let e=0;e<arguments.length;e++)delete this.font[arguments[e]]}addColorTo(e,t,s){switch(e){case"fontColor":this.font_color["ed-"+t]=s.replace("#","");break;case"backColor":this.font_highlight["ed-"+t]=s.replace("#","")}}removeColorFrom(e,t){switch(e){case"fontColor":delete this.font_color[t];break;case"backColor":delete this.font_highlight[t]}}createEvent(e,t,s){let a=new Event(e);return{event:a,ele:on(e,t,e=>{s(e)}),trigger:e=>{$_(t).dispatchEvent(a),null!=e&&e()}}}removeClass(e,t){e.split(" ");switch(e[0]){case"#":for(let s=0;s<t.length;s++)$_(e).classList.remove(t[i]);break;case".":for(let s=0;s<$_(e).length;s++)for(let a=0;a<t.length;a++)$_(e)[s].classList.remove(t[s]);break;default:for(let s=0;s<$_(e).length;s++)for(let a=0;a<t.length;a++)$_(e)[s].classList.remove(t[s])}return $_(e)}addClass(e,t){e.split(" ");switch(e[0]){case"#":for(let s=0;s<t.length;s++)$_(e).classList.add(t[i]);break;case".":for(let s=0;s<$_(e).length;s++)for(let a=0;a<t.length;a++)$_(e)[s].classList.add(t[s]);break;default:for(let s=0;s<$_(e).length;s++)for(let a=0;a<t.length;a++)$_(e)[s].classList.add(t[s])}return $_(e)}eol(){let e=$_("#ed_space_"+this.id);var t,s;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(s=window.getSelection()).removeAllRanges(),s.addRange(t),t.detach()):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select(),t.detach())}addElement(e,t="",s="",a={},i="",n=""){if(null==e)return console.log("failed to get selection"),0;let o=document.createElement("div"),l=document.createElement(t);return this.addFeatures({ele:l,class:i,style:s,attrs:a,id:n}),o.appendChild(l),this.applyRange(o),o}saveRange(){let e=window.getSelection();if($_("#ed_space_"+this.editorId).contains(e.anchorNode)){var t={last_sel:e,collapsed:e.getRangeAt(0).collapsed,startContainer:e.getRangeAt(0).startContainer,startOffset:e.getRangeAt(0).startOffset,endContainer:e.getRangeAt(0).endContainer,endOffset:e.getRangeAt(0).endOffset};this._range=t}}getRange(){return this._range}applyRange(e,t){let s=window.getSelection(),a=document.createRange();if(a.setStart(this.getRange().startContainer,this.getRange().startOffset),a.setEnd(this.getRange().endContainer,this.getRange().endOffset),e&&(a.insertNode(e),s.removeAllRanges()),t)return s.removeAllRanges(),s.addRange(a),a;s.addRange(a),a.detach()}applyStyle(e,t="",s="span"){let a,i=window.getSelection(),n=document.createRange();n.setStart(this.getRange().startContainer,this.getRange().startOffset),n.setEnd(this.getRange().endContainer,this.getRange().endOffset),(a=document.createElement(s)).style.cssText=e,a.className=t,document.execCommand("removeFormat"),n.surroundContents(a),i.removeAllRanges(),i.addRange(n),n.detach()}Run(e,t){if(this.commands.default.indexOf(e)>=0){window.getSelection();let s=this.applyRange(null,!0);switch(document.execCommand(e,!1,t||""),s.detach(),e){case"indent":for(let e of $_("blockquote"))e.style.cssText="border-left:2px solid black; padding-left:5px;font-style:italic; font-size:32px; margin-left:20px;";break;case"insertImage":for(let e of $_("img"))e.style.cssText="border-radius:5px; margin:5px;"}}else switch(e){case"youtube":this.addElement(this.getRange().last_sel,"iframe","",{src:"https://www.youtube.com/embed/"+this.current_sets.last_youtube.slice(this.current_sets.last_youtube.slice(0,-11).length),frameborder:"0",allow:"encrypted-media",allowfullscreen:"true",width:"100%",height:"100%"}).classList.add("resizable");break;case"fontSize":this.applyStyle(`font-size:${t}px`,"","font");break;case"code":this.applyStyle("background-color:#eee;margin:10px; padding:30px;font-size:'15px;'","preatyprint","pre")}}selectvalueChager(e,t){switch(e){case 0:$_("#font-style-select"+this.id).value=t;break;case 1:$_("#font-select"+this.id).value=t;break;case 2:$_("#font-size-select"+this.id).value=t}}output(){return $_("#ed_space_"+this.editorId).innerHTML}moveCursor(e,t){$_("#ed_space_"+this.editorId);var s=document.createRange(),a=window.getSelection();s.setStart(e,t),s.collapse(!0),a.removeAllRanges(),a.addRange(s),s.detach()}}class Editor extends CommandAssets{constructor(e,t="",s=default_settings,a){super(s,e),this.id=e,this.upload_link=a,this.o_id=t,this._current_range={},this._components={ed_floatbox:document.createElement("div"),ed_tools:document.createElement("div"),ed_tools_1:document.createElement("div"),ed_center1:document.createElement("div"),ed_center2:document.createElement("div"),ed_space:document.createElement("div"),ed_footer:document.createElement("div"),ed_bubble:document.createElement("div"),style_select:document.createElement("select"),font_select:document.createElement("select"),fontsize_select:document.createElement("select"),buttons_top:[],buttons_foot:[]}}setBubble(e){let t=$_("#ed_space_"+this.id).getBoundingClientRect();if(e.y-t.y>=20){let t=`<div class="temp_float caret-bottom" id='ed-bubble_content_${this.id}' style="padding-left:10px;">hello WOrld</div>`,s=$_("#ed_bubble_"+this.id);s.innerHTML=t,s.style.position="absolute",s.style.top=e.y-35+"px",s.style.left=e.x+e.width/2-parseFloat(window.getComputedStyle(s,null).getPropertyValue("width"))/2+"px"}else{let t=`<div class="temp_float caret-top" id='ed-bubble_content_${this.id}' style="padding-left:10px;">hellohello WOrldhello WOrldhello WOrld<br> WOrld</div>`,s=$_("#ed_bubble_"+this.id);s.innerHTML=t,s.style.position="absolute",s.style.top=e.y+e.height+10+"px",s.style.left=e.x+e.width/2-parseFloat(window.getComputedStyle(s,null).getPropertyValue("width"))/2+"px"}}removeBubble(){$_("#ed_bubble_"+this.id).innerHTML=""}setStructure(){let e=$_("#"+this.id).appendChild(this._components.ed_floatbox),t=$_("#"+this.id).appendChild(this._components.ed_tools),s=$_("#"+this.id).appendChild(this._components.ed_space),a=$_("body")[0].appendChild(this._components.ed_bubble),i=t.appendChild(this._components.ed_tools_1),n=i.appendChild(this._components.ed_center1),o=n.appendChild(this._components.style_select);for(let e=0;e<this.top_tools.cmds.length;e++)this._components.buttons_top.push(document.createElement("button"));for(let e=0;e<this.foot_tools.cmds.length;e++)this._components.buttons_foot.push(document.createElement("button"));this.addFeatures({ele:e,id:"ed_floatbox"},{ele:t,class:"ed-tools"},{ele:s,class:"ed-space",id:"ed_space_"+this.id,attrs:{contenteditable:!0,"data-placeholder":"Begin Typing ..."}},{ele:i,class:"ed-tools-1"},{ele:n,class:"ed-center"},{ele:o,id:"font-style-select"+this.id},{ele:a,id:"ed_bubble_"+this.id,class:"bubble"});for(let e in this.font_styles){let t=o.appendChild(document.createElement("option"));t.value=e,e==this.current_sets.font_style&&t.setAttribute("selected",""),t.innerHTML=e}for(let e=0;e<this.top_tools.cmds.length;e++){let t=n.appendChild(this._components.buttons_top[e]),s=document.createElement("i");this.addFeatures({ele:s,class:this.top_tools.icons[e]},{ele:t,class:"ed_btn_"+this.id,attrs:{"data-cmd":this.top_tools.cmds[e],"data-vt":this.top_tools.values[e],"data-key":this.top_tools.keys[e]}}),t.appendChild(s)}if(window.innerWidth>=this.settings.device_min_width){let e=$_("#"+this.id).appendChild(this._components.ed_footer),t=e.appendChild(this._components.ed_center2);this.addFeatures({ele:e,class:"ed-footer"},{ele:t,class:"ed-center"});for(let e=0;e<this.foot_tools.cmds.length;e++){let s=t.appendChild(this._components.buttons_foot[e]),a=document.createElement("i");this.addFeatures({ele:a,class:this.foot_tools.icons[e]},{ele:s,class:"ed_btn_"+this.id,attrs:{"data-cmd":this.foot_tools.cmds[e],"data-vt":this.foot_tools.values[e],"data-key":this.foot_tools.keys[e]}}),s.appendChild(a)}let s=t.appendChild(this._components.font_select),a=t.appendChild(this._components.fontsize_select);this.addFeatures({ele:s,id:"font-select"+this.id},{ele:a,id:"font-size-select"+this.id});for(let e in this.font){let t=s.appendChild(document.createElement("option"));t.value=e,e==this.current_sets.font_family&&t.setAttribute("selected",""),t.innerHTML=e}for(let e=10;e<100;e+=2){let t=a.appendChild(document.createElement("option"));t.value=e,e==this.current_sets.font_size&&t.setAttribute("selected",""),t.innerHTML=e+"px"}}}setFloater(e,t){let s=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("input");s.className="ed_float_title";let l=document.createTextNode(e);if(s.appendChild(l),"font-color"==t){for(let e in this.font_color){let s=document.createElement("button");this.addFeatures({ele:s,style:`background:#${this.font_color[e]}`,id:t+this.font_color[e],attrs:{"data-val":e}}),s.appendChild(document.createTextNode("  ")),a.appendChild(s),e==this.current_sets.font_color&&(s.className="active"),s.addEventListener("click",e=>{this.removeClass(".active",["active"]),this.current_sets.font_color=e.target.dataset.val,e.target.classList.add("active")})}a.className="colorpick",i.appendChild(o),this.addFeatures({ele:o,id:"input_"+t,attrs:{type:"text",placeholder:"Color hex #ffffff",maxlength:"7"}});let e=n.appendChild(document.createElement("button"));e.appendChild(document.createTextNode("Set")),this.addFeatures({ele:e,id:"set"+t+this.id,class:"hide",attrs:{type:"button","data-for":t}})}else if("back-color"==t){for(let e in this.back_color){let s=document.createElement("button");this.addFeatures({ele:s,style:`background:#${this.back_color[e]}`,id:t+this.back_color[e],attrs:{"data-val":e}}),s.appendChild(document.createTextNode("  ")),a.appendChild(s),e==this.current_sets.font_highlight&&(s.className="active"),s.addEventListener("click",e=>{this.removeClass(".active",["active"]),this.current_sets.font_highlight=e.target.dataset.val,e.target.classList.add("active")})}a.className="colorpick",i.appendChild(o),this.addFeatures({ele:o,id:"input_"+t,attrs:{type:"text",placeholder:"Color hex #ffffff",maxlength:"7"}});let e=n.appendChild(document.createElement("button"));e.appendChild(document.createTextNode("Set")),this.addFeatures({ele:e,id:"set"+t+this.id,class:"hide",attrs:{type:"button","data-for":t}})}else if("image"==t){if(this.upload_link){a.className="ed_image_select";let e=document.createElement("form");this.addFeatures({ele:e,id:"img_form"+this.id,attrs:{method:"post",enctype:"multipart/form-data",action:this.upload_link}}),a.appendChild(e);let t=document.createElement("input");e.appendChild(t),this.addFeatures({ele:t,id:"ed_float_img_btn"+this.id,class:"ed_img_input",attrs:{type:"file",accept:".gif,.jpg,.jpeg,.png"}})}let e=document.createElement("div");this.addFeatures({ele:e,class:"ed_img_preview",id:"img_preview"+this.id});for(let t of this.image_container){let s=document.createElement("img");this.addFeatures({ele:s,attrs:{src:t}}),e.appendChild(s)}a.appendChild(e),i.appendChild(o),this.addFeatures({ele:o,id:"input_"+t,attrs:{type:"url",placeholder:"Image Url"}});let s=n.appendChild(document.createElement("button"));s.appendChild(document.createTextNode("Set")),this.addFeatures({ele:s,id:"set"+t+this.id,class:"hide",attrs:{type:"button","data-for":t}})}else if("link"==t){i.appendChild(o),this.addFeatures({ele:o,id:"input_"+t,attrs:{type:"url",placeholder:"Url"}});let e=n.appendChild(document.createElement("button"));e.appendChild(document.createTextNode("Set")),this.addFeatures({ele:e,id:"set"+t+this.id,class:"hide",attrs:{type:"button","data-for":t}})}else if("youtube"==t){let e=document.createElement("div");this.addFeatures({ele:e,class:"ed_img_preview",id:"img_preview"+this.id}),a.appendChild(e),i.appendChild(o),this.addFeatures({ele:o,id:"input_"+t,attrs:{type:"url",placeholder:"Youtube Video Url"}});let s=n.appendChild(document.createElement("button"));s.appendChild(document.createTextNode("Set")),this.addFeatures({ele:s,id:"set"+t+this.id,class:"hide",attrs:{type:"button","data-for":t}})}n.className="ed_float_action",this._components.ed_floatbox.appendChild(s),this._components.ed_floatbox.appendChild(a),this._components.ed_floatbox.appendChild(i),this._components.ed_floatbox.appendChild(n),this._components.ed_floatbox.id="ed_floatbox",on("keyup keydown paste cut change","#input_"+t,e=>{if(e.target.value.length>=3){if(e.target.style.color=e.target.value,$_("#set"+t+this.id).classList.remove("hide"),this.upload_link&&$_(".ed_image_select")[0].classList.add("hide"),"input_image"==e.target.id){let t=document.createElement("img");t.src=e.target.value,t.style.cssText="width:100%;display:inline-block;border-radius:5px;",$_("#img_preview"+this.id).innerHTML="",$_("#img_preview"+this.id).appendChild(t)}else if("input_youtube"==e.target.id){let e=document.createElement("iframe");this.addFeatures({ele:e,attrs:{src:"https://www.youtube.com/embed/"+this.current_sets.last_youtube.slice(this.current_sets.last_youtube.slice(0,-11).length),frameborder:"0","encrypted-media":"true"},style:"width:100%;display:inline-block;border-radius:5px;"}),$_("#img_preview"+this.id).innerHTML="",$_("#img_preview"+this.id).appendChild(e)}}else $_("#set"+t+this.id).classList.add("hide"),this.upload_link&&$_(".ed_image_select")[0].classList.remove("hide")}),on("click","#set"+t+this.id,e=>{switch(e.target.dataset.for){case"font-color":this.current_sets.font_color=$_("#input_"+t).value,this.Run("foreColor",this.current_sets.font_color);break;case"back-color":this.current_sets.font_highlight=$_("#input_"+t).value,this.Run("backColor",this.current_sets.font_highlight);break;case"youtube":this.current_sets.last_youtube=$_("#input_"+t).value,this.Run("youtube");break;case"image":console.log("click"),this.Run("insertImage",$_("#input_"+t).value);break;case"link":this.Run("createLink",$_("#input_"+t).value)}e.target.offsetParent.style.cssText="display:none"}),$_("#ed_float_img_btn"+this.id)&&this.upload_link&&on("change","#ed_float_img_btn"+this.id,e=>{this.c=this.createEvent("blobfish","#ed_float_img_btn"+this.id,e=>{console.log("change")})})}set_Events(e=this){on("mouseup mousedown",".ed-space",e=>{switch(this.saveRange(),e.target.tagName){case"IMG":this.current_sets.img_selected=e.target,this.setBubble(e.target.getBoundingClientRect());case"A":this.setBubble(e.target.getBoundingClientRect());case"IFRAME":this.setBubble(e.target.getBoundingClientRect())}}),this.settings.performance_mode||document.addEventListener("selectionchange",()=>{this.saveRange()}),on("click",".ed_btn_"+this.id,t=>{if(this.settings.performance_mode||window.innerWidth<=this.settings.device_min_width)if("true"==t.target.dataset.vt)switch(t.target.dataset.cmd){case"foreColor":this.current_sets.font_color=prompt("Enter color value eg:red for Red Color or any color code"),this.Run(t.target.dataset.cmd,this.current_sets.font_color);break;case"backColor":this.current_sets.font_highlight=prompt("Enter color value eg:red for Red Color or any color code"),this.Run(t.target.dataset.cmd,this.current_sets.font_highlight);break;case"insertImage":this.Run(t.target.dataset.cmd,prompt("Enter the image link here"));break;case"createLink":this.Run(t.target.dataset.cmd,prompt("Enter the url here"));break;case"youtube":this.current_sets.last_youtube=prompt("Enter youtube video url"),this.Run(t.target.dataset.cmd)}else e.Run(t.target.dataset.cmd);else if("true"==t.target.dataset.vt){switch(this._components.ed_floatbox.innerHTML="",t.target.dataset.cmd){case"foreColor":this.setFloater("Font Color","font-color"),$_("#ed_floatbox").style.cssText="display:inline-block";break;case"backColor":this.setFloater("Highlight Color","back-color"),$_("#ed_floatbox").style.cssText="display:inline-block";break;case"insertImage":this.setFloater("Insert Image","image"),$_("#ed_floatbox").style.cssText="display:inline-block";break;case"createLink":this.setFloater("Create Link","link"),$_("#ed_floatbox").style.cssText="display:inline-block";break;case"youtube":this.setFloater("Add Youtube Video","youtube"),$_("#ed_floatbox").style.cssText="display:inline-block"}on("click",".ed_float_title",()=>{switch($_("#ed_floatbox").style.cssText="display:none",t.target.dataset.cmd){case"foreColor":this.Run(t.target.dataset.cmd,"#"+this.font_color[this.current_sets.font_color]);break;case"backColor":this.Run(t.target.dataset.cmd,"#"+this.back_color[this.current_sets.font_highlight])}})}else e.Run(t.target.dataset.cmd);this.forUndo[this.forUndo.length-1]!=this.output()&&null!=this.forUndo[this.forUndo.length-1]&&this.forUndo.push(this.output()),$_("#ed_space_"+this.id).focus()}),on("change select","select",e=>{switch(e.target.id){case"font-style-select"+this.id:this.current_sets.font_style=e.target.value,this.Run("formatBlock",this.font_styles[this.current_sets.font_style]);break;case"font-select"+this.id:this.current_sets.font_family=e.target.value,this.Run("fontName",this.font[this.current_sets.font_family]);break;case"font-size-select"+this.id:this.current_sets.font_size=e.target.value,this.Run("fontSize",this.current_sets.font_size)}console.log(e.target)}),on("keydown","#ed_space_"+this.id,function(t){if(this.dataset.placeholder="",e.saveRange(),"Enter"==t.key&&(setTimeout(function(){enter_nos=0},1e3),3==(enter_nos+=1)&&(t.target.innerHTML+="<div></div>",e.eol(),enter_nos=0),e.forUndo.push(this.innerHTML),e.forUndo[e.forUndo.length-1]==e.output()&&0!=e.forUndo.length||e.forUndo.push(e.output())),!e.settings.performance_mode){switch(e.getRange().startContainer.parentElement.nodeName){case"H1":e.selectvalueChager(0,"Heading h1");break;case"H2":e.selectvalueChager(0,"Heading h2");break;case"H3":e.selectvalueChager(0,"Heading h3");break;case"H4":e.selectvalueChager(0,"Heading h4");break;case"H5":e.selectvalueChager(0,"Heading h5");break;case"H6":e.selectvalueChager(0,"Heading h6");break;case"DIV":case"P":e.selectvalueChager(0,"paragraph");break;case"PRE":e.selectvalueChager(0,"Pre formatted")}}e.o_id&&($_("#"+e.o_id).innerText=e.output())}),on("keypress","#ed_space_"+e.id,function(t){let s=window.event?event:t;if(!s.ctrlKey||s.altKey||s.shiftKey){if(s.ctrlKey&&s.shiftKey){switch(["Enter"].indexOf(s.key)>=0&&s.preventDefault(),s.key){case"Enter":$_("#ed_space_"+e.id).insertBefore(document.createElement("div").appendChild(document.createElement("br")),e.getRange().endContainer.parentNode),e.moveCursor(e.getRange().startContainer.parentNode.previousSibling,0),e.saveRange()}console.log(s.key)}else if(s.altKey&&s.shiftKey){switch(["%"].indexOf(s.keyCode)>=0&&s.preventDefault(),s.key){case"%":e.Run("strikeThrough")}console.log("Alt+Shift"+s.key)}else if(s.ctrlKey&&s.shiftKey)switch(["l","e","r","j"].indexOf(s.key)>=0&&s.preventDefault(),s.key){case"l":e.Run("justifyLeft");break;case"e":e.Run("justifyCenter");break;case"r":e.Run("justifyRight");break;case"j":e.Run("justifyFull")}}else{switch(["b","i","u","k","q",".",","].indexOf(s.key)>=0&&s.preventDefault(),s.key){case"b":e.Run("bold");break;case"i":e.Run("italic");break;case"u":e.Run("underline");break;case"k":document.getElementsByClassName("ed-tools-1")[0].getElementsByTagName("button")[5].click();break;case"Enter":$_("#ed_space_"+e.id).appendChild(document.createElement("div").appendChild(document.createElement("br")),e.getRange().endContainer.parentNode),e.moveCursor(e.getRange().endContainer.parentNode.nextSibling,0),e.saveRange();break;case"q":e.Run("indent");break;case".":e.Run("subscript");break;case",":e.Run("superscript");break;case"z":e.Undo();break;case"y":e.Redo()}console.log("Ctrl+"+s.key)}}),on("scroll click","#ed_space_"+this.id,function(t){-1==["IMG","A","IFRAME"].indexOf(t.target.nodeName)&&e.removeBubble()})}init(){$_("head")[0].innerHTML+=ed_style,this.Run("styleWithCSS"),this.Run("insertBrOnReturn"),this.setStructure(),this.set_Events(),setTimeout(()=>{this.forUndo[this.forUndo.length-1]!=this.output()&&0==this.forUndo.length&&this.forUndo.push(this.output())},3e3)}}